// Generated by CoffeeScript 1.10.0
var Follower, React, d3, r;

React = require('react');

d3 = require('d3');

r = 5;

module.exports = Follower = function(arg) {
  var colors, data, height, mouseX, mouseY, width, x, xx, y;
  width = arg.width, height = arg.height, data = arg.data, x = arg.x, y = arg.y, colors = arg.colors, mouseX = arg.mouseX, mouseY = arg.mouseY;
  xx = x.invert(mouseX);
  return React.createElement("div", {
    "className": 'follower-container',
    "style": {
      width: width,
      height: height,
      position: 'absolute'
    }
  }, React.createElement("div", {
    "className": 'follower-line',
    "style": {
      width: 1,
      height: height,
      position: 'absolute',
      top: 0,
      left: mouseX,
      background: '#eee'
    }
  }), React.createElement("div", {
    "className": 'follower-line',
    "style": {
      width: width,
      height: 1,
      position: 'absolute',
      top: mouseY,
      left: 0,
      background: '#eee'
    }
  }), data.map(function(ds, di) {
    var d, follower, i, len, value, yy;
    follower = {};
    yy = 0;
    for (i = 0, len = ds.length; i < len; i++) {
      d = ds[i];
      if (d.x > xx) {
        yy = d.y;
        break;
      }
    }
    value = yy;
    if (yy === 0) {
      return React.createElement("div", {
        "key": di
      });
    }
    return React.createElement("div", {
      "className": 'follower',
      "style": {
        position: 'absolute',
        top: y(yy),
        left: mouseX
      },
      "key": di
    }, React.createElement("div", {
      "className": 'follower-dot',
      "style": {
        position: 'absolute',
        top: -r,
        left: -r,
        width: 2 * r,
        height: 2 * r,
        borderRadius: r,
        background: colors[di]
      }
    }), React.createElement("span", {
      "className": 'follower-label',
      "style": {
        top: -r,
        left: r + 5
      }
    }, value.toFixed(4)));
  }));
};
