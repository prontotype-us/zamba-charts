// Generated by CoffeeScript 1.10.0
var PieChart, React, d3;

React = require('react');

d3 = require('d3');

module.exports = PieChart = React.createClass({displayName: "PieChart",
  getDefaultProps: function() {
    return {
      color: '#000'
    };
  },
  render: function() {
    var arc, arcs, color, data, height, padding, pie, radius, ref, width, x, y;
    ref = this.props, width = ref.width, height = ref.height, data = ref.data, x = ref.x, y = ref.y, padding = ref.padding;
    radius = Math.min(width, height) / 2;
    color = d3.scaleOrdinal(d3.schemeCategory20);
    pie = d3.pie().value(function(d) {
      return d.count;
    });
    arc = d3.arc().innerRadius(0).outerRadius(radius).padRadius(2);
    arcs = pie(data).map(function(d) {
      return arc(d);
    });
    return React.createElement("svg", {
      "className": 'pie-chart',
      "style": {
        position: 'relative',
        width: width,
        height: height
      }
    }, React.createElement("g", {
      "transform": "translate(" + radius + "," + radius + ")"
    }, arcs.map((function(_this) {
      return function(d, di) {
        return React.createElement("path", {
          "key": di,
          "x": radius,
          "y": radius,
          "d": d,
          "fill": data[di].color || color(di)
        });
      };
    })(this))));
  }
});
